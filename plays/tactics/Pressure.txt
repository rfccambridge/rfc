Metadata:
type tactic
name Pressure

Parameters:
bot robot

Objects:

standbypoint (point -2 0)

ballpoint (pointof ball)
robotpt (pointof bot)

#Should the robot kick?
distance (pointpointdistance robotpt ballpoint)
ballzone (circle ballpoint distance)
robotshouldkick (= (numberOfRobotsInACircle ballzone enemy) 0)

# Places to kick the ball
toptarget (point (/ (const-double FIELD_WIDTH) 2) (/ (const-double FIELD_HEIGHT) 2))
bottarget (point (/ (const-double FIELD_WIDTH) 2) (/ (const-double FIELD_HEIGHT) -2))

kickactionagg (if_Action (pathClear ballpoint bottarget 2.0) (robotpointkick bot bottarget) (robotpointkick bot toptarget))
movetoblock (robotpointpointmove bot (pointdirectiondistance (ourgoal) ballpoint (- (pointpointdistance (ourgoal) ballpoint) 0.4)) ballpoint)
kickactiondef (if_Action robotshouldkick kickactionagg movetoblock)
standby (and (pointInGoal ballpoint) (robotInGoal))

Actions:

# check if we shouldn't go after the ball- that is, if it is
# in the goal and there is another robot there

(if_Action standby (robotpointmove bot standbypoint) kickactiondef)
