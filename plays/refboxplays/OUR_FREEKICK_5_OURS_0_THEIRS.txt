Metadata:
type SetPlay_Ours
name O_FK_5x0
score 500

Objects:

topLeftCorner (point -3.05 2.1)
bottomLeftCorner (point -3.05 -2.1)
bottomRightCorner (point 3.05 -2.1)
topRightCorner (point 3.05 2.1)
theirgoal (point 3.13 0)
ourgoal (point -3.13 0)
middle_theirgoal (point 2 0)

ballpoint (pointof ball)
ballgoalline (line ballpoint ourgoal)

kickerbot (closest friendly ballpoint loose)
supportbot (closest friendly theirgoal loose)

GOALIE_X_POS (- (const-double GOALIE_X_POS_DELTA) (/ (const-double FIELD_WIDTH) 2))
BALL_KICK_DIST (const-double BALL_KICK_DIST)


#find position for support robot
SUPPORT_AVOID (const-double SUPPORT_AVOID)
addtosupport (point 0 SUPPORT_AVOID)
balltogoal (line ballpoint theirgoal)

circleball (circle ballpoint BALL_KICK_DIST)
balldestination (linecircleintersection balltogoal circleball 1)


supportrobotpoint (pointof supportbot)
supportgoto (if_point (pointAboveLine supportrobotpoint balltogoal) (pointadd balldestination addtosupport) (pointsubtract balldestination addtosupport))

#begin 3 person defense
ourgoalwideperim (circle ourgoal .9)
ourgoalcloseperim (circle ourgoal 0.4)

point1 (linecircleintersection ballgoalline ourgoalwideperim -1)
circle1 (circle point1 0.25)
twomanpt1 (circlecircleintersection circle1 ourgoalwideperim -1)
twomanpt2 (circlecircleintersection circle1 ourgoalwideperim 1)

endtopgoalpt (point GOALIE_X_POS 2)
endbottomgoalpt (point GOALIE_X_POS -2)
vertgoalline (line endtopgoalpt endbottomgoalpt)
goaliept (linelineintersection ballgoalline vertgoalline)
goaltoppt (point GOALIE_X_POS 0.35)
goalbotpt (point GOALIE_X_POS -0.35)

goaliebot (closest friendly ourgoal loose)
goaliebotpt (pointof goaliebot)

twomanbot1 (closest friendly twomanpt1 loose)
twomanbot1pt (pointof twomanbot1)

twomanbot2 (closest friendly twomanpt2 loose)
twomanbot2pt (pointof twomanbot2)
#end 3 person defense

Conditions:
Actions:
(if_Action (< (getYcoord goaliept) (getYcoord goalbotpt)) (robotpointpointmove goaliebot goalbotpt ballpoint) (if_Action (> (getYcoord goaliept) (getYcoord goaltoppt)) (robotpointpointmove goaliebot goaltoppt ballpoint) (robotpointpointmove goaliebot goaliept ballpoint)))
(robotpointmove twomanbot1 twomanpt1)
(robotpointmove twomanbot2 twomanpt2)
(robotpointmove supportbot supportgoto)
(robotpointkick kickerbot theirgoal)