Metadata:
type tactic
name Support

Parameters:
bot robot
shooter robot

Objects:
ballpoint (pointof ball)
passiveLpt (point 1.8 0.5)
passiveRpt (point 1.8 -0.5)
shooterpt (pointof shooter)
fixedLpt (point (+ (getXcoord shooterpt) 1.0) 1.0)
fixedRpt (point (+ (getXcoord shooterpt) 1.0) -1.0)
receiveLpt (point (+ (getXcoord shooterpt) 1.0) (getYcoord shooterpt))
receiveRpt (point (+ (getXcoord shooterpt) 1.0) (/ (getYcoord shooterpt) -1.0)

topassiveL (line shooterpt passiveLpt) 
topassiveR (line shooterpt passiveRpt)
shootertogoal (line shooterpt (theirgoal))
passiveLbad (or (< (angleBetweenTwoLines shootertogoal topassiveL) 0.3) (< (linelength topassiveL) 0.2))
shootertoowide (> (getXcoord shooterpt) 2.0)
shooterRight (< (getYcoord shooterpt) 0)
shooterLeft(> (getYcoord shooterpt) 0)

possession (< (pointpointdistance ballpoint shooterpt) 0.4) 
cleargoal (pathClear shooterpt (theirgoal) 3.0)
canscore (and possession cleargoal)

clearreceiveL (pathClear shooterpt fixedLpt 3.0)
clearreceiveR (pathClear shooterpt fixedRpt 3.0)

Actions:

#check if our shooter has ball and can kick into goal
#if shooter is blocked by enemy or doesn't have ball, position self to
#accept pass from shooter
#if shooter can kick, stand by the goal in case he misses


(if_Action (or (canscore shootertoowide)) (if_Action passiveLbad (robotpointmove bot passiveRpt) (robotpointmove bot passiveLpt)) (if_Action shooterRight (if_Action clearreceiveL (robotpointmove bot fixedLpt) (robotpointmove bot receiveLpt)) (if_Action clearreceiveR (robotpointmove bot fixedRpt) (robotpointmove bot fixedLpt))) 