Metadata:
playtype NormalPlay
name CLEARBALL_5vs0
score 200

Objects: 

# constants
CLEAR_DIST (const-double CLEAR_DIST)
FIELD_HEIGHT (double 4.05)

clearpoint1 (point 0 0)
clearpoint2 (point -2 (- 0 (/ FIELD_HEIGHT 2)))
clearpoint3 (point -2 (/ FIELD_HEIGHT 2))
ourTopCorner (point -3.05 2.1)
ourBottomCorner (point -3.05 -2.1)

ballpoint (pointof ball)

#Clearer should be teammate on ball
clearer (closest friendly ballpoint loose)
clearerpoint (pointof clearer)

# Assign roles to other robots
enemykicker (closest enemy ballpoint loose)
enemykickerpoint (pointof enemykicker)
marker (closest friendly enemykickerpoint loose)


clearpoint (if_point (pathClear ballpoint clearpoint1 CLEAR_DIST) clearpoint1 (if_point (pathClear ballpoint clearpoint2 CLEAR_DIST) clearpoint2 (if_point (pathClear ballpoint clearpoint3 CLEAR_DIST) clearpoint3 (if_point (pathClear ballpoint ourTopCorner CLEAR_DIST) ourTopCorner ourBottomCorner))))

should_kick (< (pointpointdistance clearerpoint ballpoint) 0.4)


blocktarget (closest enemy ballpoint loose)
blocktargetpoint (pointof blocktarget)
linetoblock (line ballpoint blocktargetpoint)
blocker (closest friendly (closestRobotToLinePosition linetoblock friendly) loose)


Tactics:
SmartGoalie
Sweep (ourgoal) 0.8 True 
BlockPass blocker blocktarget
Mark marker enemykicker

Conditions:

Actions:
#(robotpointkickvar clearer clearpoint 5)
(if_Action should_kick (robotpointkick clearer clearpoint) (robotpointpointmove clearer ballpoint ballpoint))
