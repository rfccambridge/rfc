Metadata:
type tactic
name OneManWall

Parameters:
#twomanbot robot
point_defended point
distance double
should_kick bool
bot_number double
forwardbot robot

Objects:
CLEAR_DIST (const-double CLEAR_DIST)

perimeter (circle point_defended distance)

ballpoint (pointof ball)

ballline (line ballpoint point_defended)

wallmainpt (linecircleintersection ballline perimeter -1)

wallcircle (circle wallmainpt 0.1)

twomanpt (if_point (= bot_number 0) (circlecircleintersection wallcircle perimeter -1) (circlecircleintersection wallcircle perimeter 1))

#twomanbot (closest friendly twomanpt loose)
twomanbot (closest friendly wallmainpt loose)
twomanbotpt (pointof twomanbot)

# is defender going in to kick
defensedisttoball (pointpointdistance twomanbotpt ballpoint)

#Places to clear the ball to
toptarget (point (/ (const-double FIELD_WIDTH) 2) (/ (const-double FIELD_HEIGHT) 2))
bottarget (point (/ (const-double FIELD_WIDTH) 2) (/ (const-double FIELD_HEIGHT) -2))

# should robot kick
do_kick (and should_kick (< defensedisttoball 0.8))

#kicktoclear (if_Action (pathClear ballpoint (theirgoal) 2.0) (robotpointkick twomanbot (theirgoal)) (if_Action (pathClear ballpoint bottarget 2.0) (robotpointkick twomanbot bottarget) (robotpointkick twomanbot toptarget)))

# 4/24/11 12:23 AM Is strength 2 an improvement? Oh well I think so based on looking at it twice so I'm leaving it in - NK
kicktoclear (if_Action (pathClear ballpoint (theirgoal) CLEAR_DIST) (robotpointkick twomanbot (theirgoal)) (robotpointstrengthkick twomanbot (pointof forwardbot) 2))

Actions:
(if_Action do_kick kicktoclear (robotpointpointmove twomanbot twomanpt ballpoint))